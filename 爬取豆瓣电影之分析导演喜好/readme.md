# 挖掘导演是如何选择演员

1、首先从豆瓣中爬取相关导演参与的电影，获取其中的电影名称和演员表，存储到csv文件中，如。

    疯狂的外星人 (2019), 黄渤 , 沈腾 , 汤姆·派福瑞 , 马修·莫里森 , 徐峥 , 于和伟 , 雷佳音 , 刘桦
    疯狂的石头 (2006), 郭涛 , 刘桦 , 连晋 , 黄渤 , 徐峥 , 优恵 , 罗兰 , 王迅
    心花路放 (2014), 黄渤 , 徐峥 , 袁泉 , 周冬雨 , 陶慧 , 岳小军 , 沈腾 , 张俪
    无人区 (2013), 徐峥 , 黄渤 , 余男 , 多布杰 , 王双宝 , 巴多 , 杨新鸣 , 郭虹
    疯狂的赛车 (2009), 黄渤 , 戎祥 , 九孔 , 徐峥 , 王双宝 , 巴多 , 董立范 , 高捷
    黄金大劫案 (2012), 雷佳音 , 陶虹 , 程媛媛 , 山崎敬一 , 郭涛 , 范伟 , 孙淳 , 刘桦
    香火 (2003), 李强
    巴依尔的春节 (2020), 张子贤 , 李嘉宇 , 李世成 , 孙麒鹏 , 王晶晶
    绿草地 (2005), 达瓦 , 毕力格 , 戈利班
    奇迹世界 (2007), 黄渤 , 王柏伦 , 聂鑫 , 王迅 , 岳小军
    莫斯科大劫案 (2019), 葛优 , 刘德华
    星期四星期三 (2001), 关宇 , 傅羽鸽 , 常爱军 , 郝宜珊
    迷失 (2010), 蔡鹭 , 毕秀茹 , 唐笑笑
    北京一夜 (2009)




2、读取csv文件，通过关联性算法，调整最小支持度和最小置信度，分析导演喜欢选择哪些演员。

    itemsets,rules = apriori(data_lists,min_support=0.3,min_confidence=1)
    print(itemsets)
    print(rules)

输出：

    {1: {('徐峥',): 5, ('黄渤',): 6}, 2: {('徐峥', '黄渤'): 5}}
    [{徐峥} -> {黄渤}]

*   最小置信度设置为1，相当于条件概率，从输出结果上看，有徐峥的电影就有黄渤。

*   最小支持度为0.3，表示该演员参演了该导演 30% 以上的电影。

